(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{430:function(e,n){},432:function(e,n){},436:function(e,n){},437:function(e,n){},462:function(e,n){},464:function(e,n){},475:function(e,n){},477:function(e,n){},488:function(e,n){},490:function(e,n){},506:function(e,n){},539:function(e,n){},540:function(e,n){},608:function(e,n){},610:function(e,n){},615:function(e,n){},617:function(e,n){},624:function(e,n){},636:function(e,n){},639:function(e,n){},644:function(e,n){},717:function(e,n){},750:function(e,n){},822:function(e,n){},828:function(e,n){},841:function(e,n){},851:function(e,n,t){},852:function(e,n,t){"use strict";t.r(n);var c=t(0),r=t(108),a=t.n(r),o=t(382),i=t(25),s=t(1),u=t.n(s),d=t(5),l=t(57),f=t(132),p={CHANGE_WALLET:"CHANGE_WALLET"},b=t(899),j=t(892),h=t(54),O=t.n(h);t(894),t(896),t(897),t(898),t(893);var x=t(368),w=t.n(x),v=t(371),g=t.n(v),m=(t(853),void 0);function E(){return y.apply(this,arguments)}function y(){return(y=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.connect();case 2:return m=e.sent,console.log("provider:",m),e.abrupt("return",new w.a(m));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _=new g.a({cacheProvider:!0,providerOptions:{injected:{package:null}}}),C=t(83),k=t(153),A=t(213),N={address:""},L=Object(C.b)({wallet:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,n=arguments.length>1?arguments[1]:void 0;return n.type===p.CHANGE_WALLET?(console.log("change wallet reducer:",n),Object(A.a)(Object(A.a)({},e),{},{address:n.payload})):e}}),I=L,W=Object(C.a)(k.a)(C.c)(I),T=void 0,S=void 0;function D(){return G.apply(this,arguments)}function G(){return(G=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.eth.getAccounts();case 2:F(e.sent),void 0!==m&&null!==m&&(m.on("accountsChanged",(function(e){F(e),W.dispatch({type:p.CHANGE_WALLET,payload:e[0]})})),m.on("chainChanged",(function(e){window.location.reload()})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(){return R.apply(this,arguments)}function R(){return(R=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==S){e.next=13;break}return e.prev=1,e.next=4,E();case 4:return S=e.sent,e.next=7,D();case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),window.alert("Wallet Connect Error!"),console.log("wallet connect error, reconnecting");case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function F(e){void 0!==e&&e.length>0?T=e[0]:void 0!==T&&(_.clearCachedProvider(),T=void 0)}var P=t(7);function X(){return Object(P.jsx)(P.Fragment,{children:Object(P.jsxs)("div",{className:"fixed top-0 left-0 right-0 bottom-0 w-full h-screen z-50 overflow-hidden bg-trueGray-900 opacity-75 flex flex-col items-center justify-center",children:[Object(P.jsx)("div",{className:"loader ease-linear rounded-full border-4 border-t-4 border-gray-200 h-12 w-12 mb-4"}),Object(P.jsx)("h2",{className:"text-center text-white text-xl font-semibold",children:"Loading..."})]})})}var B=t(94),V=(t(847),function(e,n){switch(e){case"success":B.a.success(n);break;case"error":B.a.error(n);break;case"warn":B.a.warn(n);break;case"info":B.a.info(n);break;default:Object(B.a)(n)}});var z=Object(f.b)((function(e){return{address:e.wallet.address}}),(function(e){return{changeWalletAddress:function(n){e({type:p.CHANGE_WALLET,payload:n})}}}))(Object(j.a)({formControl:{marginBottom:"20px"},card:{minWidth:"200px",maxWidth:"350px",display:"flex",justifyContent:"center"},noRole:{fontSize:"30px"}})((function(e){var n=Object(c.useState)(!1),t=Object(l.a)(n,2),r=t[0],a=(t[1],Object(c.useState)([])),o=Object(l.a)(a,2),s=(o[0],o[1],Object(i.f)()),f=s.guildId,p=s.userId,j=function(){var n=Object(d.a)(u.a.mark((function n(t){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e.changeWalletAddress(t);case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),h=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H();case 2:j(T);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){localStorage.getItem("WEB3_CONNECT_CACHED_PROVIDER")?""!==e.address&&function(e,n,t){return O.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",O.a.post("/api/role/buyrole",{guildId:e,userId:n,roleId:t},{withCredentials:!0,credentials:"include"})}(f,p,"912254102623379496").then((function(e){V("success","Success"),console.log(e.data)})).catch((function(e){V("error","Missing Permission"),console.log(e)})):j("")}),[e.address]),Object(c.useEffect)((function(){console.log("init"),h()}),[]),Object(P.jsx)(P.Fragment,{children:!0===r?Object(P.jsx)(X,{}):Object(P.jsx)(P.Fragment,{children:Object(P.jsx)("div",{children:Object(P.jsx)(b.a,{maxWidth:"lg"})})})})})));function J(){return Object(P.jsx)(o.a,{children:Object(P.jsx)(i.c,{children:Object(P.jsx)(i.a,{path:"/role/guilds/:guildId/members/:userId",children:Object(P.jsx)(z,{})})})})}var U=function(){return Object(P.jsx)(P.Fragment,{children:Object(P.jsx)(J,{})})},M=(t(851),Object(C.c)(I,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),Object(C.a)(k.a)));a.a.render(Object(P.jsxs)(f.a,{store:M,children:[Object(P.jsx)(U,{}),","]}),document.getElementById("root"))}},[[852,1,2]]]);
//# sourceMappingURL=main.3cf817d8.chunk.js.map